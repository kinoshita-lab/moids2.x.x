#include "moids_constants.h"


const uint16_t pulse_high_table[]  PROGMEM= {
    125,
    125,
    250,
    125,
    250,
    125,
    250,
    250,
    375,
    500,
    625,
    500,
    250,
    375,
    250,
    375,
    500,
    250,
    375,
    500,
    625,
    750,
    500,
    625,
    750,
    875,
    500,
    875,
    1000,
    500,
    625,
    625,
    875,
    1000,
    875,
    1000,
    1250,
    875,
    1000,
    1125,
    1250,
    1325,
    1450,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
};
uint16_t pulse_high = pulse_high_table[0];

PROGMEM  const uint16_t pulse_low_table[]  = {
    125,
    250,
    250,
    375,
    375,
    500,
    875,
    1125,
    1250,
    1250,
    1375,
    500,
    625,
    625,
    750,
    750,
    750,
    875,
    875,
    875,
    875,
    875,
    1000,
    1000,
    1000,
    1000,
    1125,
    1125,
    1125,
    1250,
    1250,
    1325,
    1325,
    1325,
    1450,
    1325,
    1325,
    1250,
    1250,
    1250,
    1325,
    1450,
    1450,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
};
uint16_t pulse_low = pulse_low_table[0];

  const uint16_t showa_delay_table[]  = {
    125,
};
uint16_t showa_delay = showa_delay_table[0];

  const uint16_t moids_on_table[]  = {
    80,
};
uint16_t moids_on = moids_on_table[0];

PROGMEM  const uint16_t moids_wait_table[]  = {
    375,
};
uint16_t moids_wait = 0;

PROGMEM const uint16_t sequence_length_table[]  = {
    0,
    0,
    0,
    0,
    30,

    5,
    5,
    10,
    20,

    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    1,
    1,
    1,
    1,
    1,
    0,
    1,
    0,
    1,
    0,
    1,
    0,
    1,
    3,
    3,
    3,
    60 * 14,
    5,
    4,
    3,
    2,
    1,
    1,
    600,
};

# if 0 // for testing
PROGMEM const uint16_t sequence_length_table[] = {
    0,
    0,
    0,
    0,
    1,

    1,
    1,
    1,
    1,

    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    1,
    0,
    1,
    0,
    1,
    0,
    1,
    60 * 14,
    5,
    4,
    3,
    2,
    1,
    1,
    600,
};
#endif

uint16_t sequence_length = 0;


int pulse_high_index = 0;
int pulse_low_index = 0;
int showa_delay_index = 0;
int moids_on_index = 0;
int moids_wait_index = 0;
int sequence_length_index = 0;